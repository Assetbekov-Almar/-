{"version":3,"sources":["infrastructure/utils/toastNotifications.js","pages/Bookshelf/Bookshelf.js","pages/Bookshelf/index.js"],"names":["successNotify","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","theme","progress","undefined","failureNotify","error","connect","state","books","libraryReducer","reviews","bookshelfReducer","setReview","useState","setState","handleSaveClick","id","index","review","find","starNumber","rating","handleTextAreaChange","e","prevState","Object","assign","target","value","handleStarMouseMove","length","className","map","book","volumeInfo","src","imageLinks","thumbnail","alt","authors","author","authorIndex","title","rel","href","Array","keys","_","arrayIndex","onMouseMove","defaultValue","onChange","onClick","Bookshelf"],"mappings":"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","file":"static/js/3.6e6f8e03.chunk.js","sourcesContent":["import {toast} from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const successNotify = () => toast.success(\"The message has been successfully sent!\", {position: \"top-right\",\r\n\tautoClose: 3000,\r\n\thideProgressBar: false,\r\n\tcloseOnClick: true,\r\n\tpauseOnHover: true,\r\n\tdraggable: true,\r\n\ttheme: 'colored',\r\n\tprogress: undefined,\r\n});\r\n\r\nexport const failureNotify = () => toast.error(\"Something went wrong! Try again, please.\", {\r\n\tposition: \"top-right\",\r\n\tautoClose: 3000,\r\n\thideProgressBar: false,\r\n\tcloseOnClick: true,\r\n\tpauseOnHover: true,\r\n\tdraggable: true,\r\n\ttheme: 'colored',\r\n\tprogress: undefined,\r\n});","import React, {useState} from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {setReview} from \"../../infrastructure/redux/actions/bookshelf\"\r\nimport {successNotify} from \"../../infrastructure/utils/toastNotifications\";\r\n\r\nconst Bookshelf = ({books, reviews, setReview}) => {\r\n\r\n  const [state, setState] = useState([])\r\n\r\n\r\n  const handleSaveClick = (id, index) => () => {\r\n    if (state[index]?.review !== reviews.find(review => review.id === id)?.review ||\r\n        state[index]?.starNumber !== reviews.find(review => review.id === id)?.rating\r\n    ) {\r\n      setReview({id, review: state[index].review, rating: state[index].starNumber})\r\n      successNotify()\r\n    }\r\n  }\r\n\r\n  const handleTextAreaChange = (index) => (e) => {\r\n    setState(prevState => Object.assign([...prevState],  {[index]: {review: e.target.value, starNumber: state[index]?.starNumber}}))\r\n  }\r\n\r\n  const handleStarMouseMove = (index, value) => () => {\r\n    setState(prevState => Object.assign([...prevState],  {[index]: {review: state[index]?.review, starNumber: value}}))\r\n  }\r\n\r\n  if (books.length === 0) {\r\n    return (\r\n      <div className=\"text-center mt-5 text-2xl\">\r\n        It seems like you don't have any books on your shelves.<br/>\r\n        You can go to Library and pick any book you want.\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {books.map((book, index) => {\r\n        const { volumeInfo } = book\r\n        return (\r\n          <div key={index}>\r\n            <div className=\"pt-10 flex\">\r\n              <div className=\"max-w-sm rounded overflow-hidden shadow-lg flex mr-6\">\r\n                <img className=\"w-50 h-40 m-auto\" src={volumeInfo.imageLinks?.thumbnail} alt=\"\"/>\r\n                <div className=\"px-6 py-4 w-60\">\r\n                  <div className=\"font-bold text-xl mb-2\">\r\n                    {volumeInfo?.authors?.map((author, authorIndex) => <div key={authorIndex}>{author}</div>)}\r\n                  </div>\r\n                  <div className=\"font-bold text-xl mb-2\">{volumeInfo.title}</div>\r\n                  <link\r\n                    rel=\"stylesheet\"\r\n                    href=\"https://use.fontawesome.com/releases/v5.11.2/css/all.css\"\r\n                  />\r\n                  <ul className=\"flex justify-center\">\r\n                    {[...Array(5).keys()].map((_, arrayIndex) =>\r\n                      <li key={arrayIndex+1} onMouseMove={handleStarMouseMove(index, arrayIndex+1)}>\r\n                        <i\r\n                          className={`fa-star fa-sm text-yellow-500 mr-1 cursor-pointer\r\n                                      star-${arrayIndex+1} ${arrayIndex+1 <= (state[index]?.starNumber ||\r\n                                              reviews.find(review => review.id === book.id)?.rating) \r\n                                                ? 'fas'\r\n                                                : 'far'}`}\r\n                        />\r\n                      </li>\r\n                    )}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <textarea\r\n                className=\"p-2.5 text-gray-700 w-full text-base border-2 border-black-200 focus:outline-none focus:border-gray-300 focus:border-opacity-85 shadow-lg rounded resize-none \"\r\n                defaultValue={reviews.find(review => review.id === book.id)?.review}\r\n                onChange={handleTextAreaChange(index)}\r\n                value={state[index]?.review}\r\n              />\r\n            </div>\r\n            <div className=\"flex justify-end mt-2.5 mr-1 gap-4\">\r\n              <button\r\n                className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded\"\r\n                onClick={handleSaveClick(book.id, index)}\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    books: state.libraryReducer.books,\r\n    reviews: state.bookshelfReducer.reviews\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {setReview})(Bookshelf)","import Bookshelf from \"./Bookshelf\";\r\n\r\nexport default Bookshelf"],"sourceRoot":""}