(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[1],{22:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o}));var r="SET_REVIEW",a="SET_REVIEW",c=function(e){return{type:r,payload:e}},o=function(e){return{type:a,payload:e}}},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(19),c=n.n(a),o=(n(34),n(15)),i=n(14),u=n(29),s=n(11),d=n(9),l={books:[]};var p=n(18),b=n(22),f={reviews:[]};var j={books:[],loading:!1,error:null};var O="APP_INIT_START",v="APP_INIT_FINISH",h="APP_INIT_ERROR",y={isInit:!1,error:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{isInit:!1,error:null};case v:return{isInit:!0,error:null};case h:return{isInit:!0,error:!0};default:return e}},g="SET_MOBILE_TYPE",w="SET_DESKTOP_TYPE",k={isMobile:!0,isDesktop:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{isMobile:!0,isDesktop:!1};case w:return{isMobile:!1,isDesktop:!0};default:return e}},I=Object(i.b)({appInit:x,appType:E,libraryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a:return{books:[].concat(Object(s.a)(e.books),[t.payload])};case d.e:return{books:e.books.filter((function(e){return e.id!==t.payload.id}))};default:return e}},bookshelfReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.b:var n=t.payload,r=n.id,a=n.rating,c=n.review,o=e.reviews;if(o.some((function(e){return e.id===r}))){var i=o.findIndex((function(e){return e.id===r}));return o[i].rating!==a||o[i].review!==c?{reviews:Object.assign(Object(s.a)(o),Object(p.a)({},i,{id:r,rating:a,review:c}))}:{reviews:Object(s.a)(o)}}return{reviews:[].concat(Object(s.a)(o),[{id:r,rating:a,review:c}])};case b.a:var u=e.reviews.findIndex((function(e){return e.id===t.payloadid}));return{reviews:[].concat(Object(s.a)(e.reviews.splice(u,1)),Object(s.a)(e.reviews))};default:return e}},getBooksReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.c:return{books:[],loading:!0,error:null};case d.d:return{books:t.payload,loading:!1,error:null};case d.b:return{books:[],loading:!1,error:t.payload};default:return e}}}),m=n(10),_=n.n(m),T=n(7),S=n(26),P=n(27),R="".concat("https://www.googleapis.com/books","/").concat("v1","/volumes"),B=new(function(){function e(){Object(S.a)(this,e)}return Object(P.a)(e,[{key:"search",value:function(e){return fetch("".concat(R,"?q=").concat(e),{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){return function(e){var t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json().then((function(t){return{status:e.status,payload:t}})):{status:e.status,payload:{error:"Unexpected error"}}}(e)}))}}]),e}()),N=_.a.mark(D);function D(e){var t,n,r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(T.b)(B.search,e.payload);case 3:if(t=a.sent,n=t.status,r=t.payload,200!==n){a.next=12;break}return a.next=9,Object(T.c)(Object(d.i)(null===r||void 0===r?void 0:r.items));case 9:case 14:return a.abrupt("return",{status:n,payload:r});case 12:return a.next=14,Object(T.c)(Object(d.g)(r));case 15:a.next=22;break;case 17:return a.prev=17,a.t0=a.catch(0),console.log("getBooksWorker",a.t0),a.next=22,Object(T.c)(Object(d.g)(a.t0));case 22:case"end":return a.stop()}}),N,null,[[0,17]])}var A=[Object(T.e)(d.c,D)];var M=_.a.mark(K);function K(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){e.next=5;break}return e.next=3,Object(T.c)({type:g});case 3:e.next=7;break;case 5:return e.next=7,Object(T.c)({type:w});case 7:case"end":return e.stop()}}),M)}var G=_.a.mark(U);function U(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(T.b)(K);case 3:return e.next=5,Object(T.c)({type:v});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.next=12,Object(T.c)({type:h});case 12:case"end":return e.stop()}}),G,null,[[0,7]])}var C=_.a.mark(F);function F(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.e)(O,U);case 2:return e.next=4,Object(T.d)(v);case 4:return e.next=6,Object(T.a)(Object(s.a)(A));case 6:case"end":return e.stop()}}),C)}var V=Object(u.a)(),W=i.c;var z=[];z.push(V);var J=Object(i.d)(I,W(i.a.apply(void 0,z)));V.run(F);var L=J,Y=n(25);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=n(12),H=n(5),Q=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,74))})),$=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(4)]).then(n.bind(null,73))})),X=Object(o.b)((function(e){return{isDesktop:e.appType.isDesktop}}))((function(e){var t=e.isDesktop;return Object(H.jsx)(r.Suspense,{fallback:Object(H.jsx)(H.Fragment,{}),children:t?Object(H.jsx)(Q,{}):Object(H.jsx)($,{})})}));n(40);var Z=function(){return Object(H.jsxs)("div",{className:"container",children:[Object(H.jsxs)("div",{className:"loader book",children:[Object(H.jsx)("figure",{className:"page"}),Object(H.jsx)("figure",{className:"page"}),Object(H.jsx)("figure",{className:"page"})]}),Object(H.jsx)("h1",{className:"loader__title",children:"Reading"})]})};var ee={appInitStart:function(){return{type:O}}},te=Object(o.b)((function(e){return{isInit:e.appInit.isInit,error:e.appInit.error}}),ee)((function(e){var t=e.isInit,n=e.error,a=e.appInitStart,c=Object(r.useState)(!1),o=Object(q.a)(c,2),i=o[0],u=o[1];return Object(r.useEffect)((function(){a()}),[a]),Object(r.useEffect)((function(){t&&setTimeout((function(){u(!0)}),1500)}),[t]),i?n?Object(H.jsx)("div",{children:"Error"}):Object(H.jsx)(X,{}):Object(H.jsx)(Z,{})})),ne=Object(H.jsx)(o.a,{store:L,children:Object(H.jsx)(Y.a,{children:Object(H.jsx)(te,{})})});c.a.render(ne,document.getElementById("root"))},9:function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i}));var r="GET_BOOKS_REQUEST",a="GET_BOOKS_SUCCESS",c="GET_BOOKS_FAILURE",o="ADD_BOOK",i="REMOVE_BOOK",u=function(e){return{type:r,payload:e}},s=function(e){return{type:a,payload:e}},d=function(e){return{type:c,payload:e}},l=function(e){return{type:o,payload:e}},p=function(e){return{type:i,payload:e}}}},[[41,2,3]]]);
//# sourceMappingURL=main.859c5fae.chunk.js.map