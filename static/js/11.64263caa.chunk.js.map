{"version":3,"sources":["infrastructure/utils/toastNotifications.js","desktop/pages/Bookshelf/Bookshelf.js","desktop/pages/Bookshelf/index.js"],"names":["successNotify","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","theme","progress","undefined","failureNotify","error","connect","state","books","libraryReducer","reviews","bookshelfReducer","setReview","useState","setState","handleSaveClick","id","index","review","find","starNumber","rating","handleTextAreaChange","e","prevState","Object","assign","target","value","handleStarMouseMove","length","className","map","book","volumeInfo","src","imageLinks","thumbnail","alt","authors","author","authorIndex","title","rel","href","Array","keys","_","arrayIndex","onMouseMove","defaultValue","onChange","onClick","Bookshelf"],"mappings":"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","file":"static/js/11.64263caa.chunk.js","sourcesContent":["import {toast} from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport const successNotify = () => toast.success(\"The message has been successfully sent!\", {position: \"top-right\",\n\tautoClose: 3000,\n\thideProgressBar: false,\n\tcloseOnClick: true,\n\tpauseOnHover: true,\n\tdraggable: true,\n\ttheme: 'colored',\n\tprogress: undefined,\n});\n\nexport const failureNotify = () => toast.error(\"Something went wrong! Try again, please.\", {\n\tposition: \"top-right\",\n\tautoClose: 3000,\n\thideProgressBar: false,\n\tcloseOnClick: true,\n\tpauseOnHover: true,\n\tdraggable: true,\n\ttheme: 'colored',\n\tprogress: undefined,\n});","import React, {useState} from 'react'\nimport {connect} from \"react-redux\"\nimport {setReview} from \"../../../infrastructure/redux/actions/bookshelf\"\nimport {successNotify} from \"../../../infrastructure/utils/toastNotifications\";\n\nconst Bookshelf = ({books, reviews, setReview}) => {\n\n  const [state, setState] = useState([])\n\n\n  const handleSaveClick = (id, index) => () => {\n    if (state[index]?.review !== reviews.find(review => review.id === id)?.review ||\n        state[index]?.starNumber !== reviews.find(review => review.id === id)?.rating\n    ) {\n      setReview({id, review: state[index].review, rating: state[index].starNumber})\n      successNotify()\n    }\n  }\n\n  const handleTextAreaChange = (index) => (e) => {\n    setState(prevState => Object.assign([...prevState],  {[index]: {review: e.target.value, starNumber: state[index]?.starNumber}}))\n  }\n\n  const handleStarMouseMove = (index, value) => () => {\n    setState(prevState => Object.assign([...prevState],  {[index]: {review: state[index]?.review, starNumber: value}}))\n  }\n\n  if (books.length === 0) {\n    return (\n      <div className=\"text-center mt-5 text-2xl\">\n        It seems like you don't have any books on your shelves.<br/>\n        You can go to Library and pick any book you want.\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      {books.map((book, index) => {\n        const { volumeInfo } = book\n        return (\n          <div key={index}>\n            <div className=\"pt-10 flex\">\n              <div className=\"max-w-sm rounded overflow-hidden shadow-lg flex mr-6\">\n                <img className=\"w-50 h-40 m-auto\" src={volumeInfo.imageLinks?.thumbnail} alt=\"\"/>\n                <div className=\"px-6 py-4 w-60\">\n                  <div className=\"font-bold text-xl mb-2\">\n                    {volumeInfo?.authors?.map((author, authorIndex) => <div key={authorIndex}>{author}</div>)}\n                  </div>\n                  <div className=\"font-bold text-xl mb-2\">{volumeInfo.title}</div>\n                  <link\n                    rel=\"stylesheet\"\n                    href=\"https://use.fontawesome.com/releases/v5.11.2/css/all.css\"\n                  />\n                  <ul className=\"flex justify-center\">\n                    {[...Array(5).keys()].map((_, arrayIndex) =>\n                      <li key={arrayIndex+1} onMouseMove={handleStarMouseMove(index, arrayIndex+1)}>\n                        <i\n                          className={`fa-star fa-sm text-yellow-500 mr-1 cursor-pointer\n                                      star-${arrayIndex+1} ${arrayIndex+1 <= (state[index]?.starNumber ||\n                                              reviews.find(review => review.id === book.id)?.rating) \n                                                ? 'fas'\n                                                : 'far'}`}\n                        />\n                      </li>\n                    )}\n                  </ul>\n                </div>\n              </div>\n              <textarea\n                className=\"p-2.5 text-gray-700 w-full text-base border-2 border-black-200 focus:outline-none focus:border-gray-300 focus:border-opacity-85 shadow-lg rounded resize-none \"\n                defaultValue={reviews.find(review => review.id === book.id)?.review}\n                onChange={handleTextAreaChange(index)}\n                value={state[index]?.review}\n              />\n            </div>\n            <div className=\"flex justify-end mt-2.5 mr-1 gap-4\">\n              <button\n                className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded\"\n                onClick={handleSaveClick(book.id, index)}\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    books: state.libraryReducer.books,\n    reviews: state.bookshelfReducer.reviews\n  }\n}\n\nexport default connect(mapStateToProps, {setReview})(Bookshelf)","import Bookshelf from \"./Bookshelf\";\n\nexport default Bookshelf"],"sourceRoot":""}